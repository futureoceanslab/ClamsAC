if(!require(tidyverse)){
install.packages("tidyverse",dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(tidyverse)
packageVersion("tidyverse")
# [1] â1.2.1â
if(!require(corrplot)){
install.packages("corrplot",dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(corrplot)
packageVersion("corrplot")
# [1] â0.77â
library(stats)
EV <- read.csv2("data/EV.csv")
EV <- EV [, c(2:5)]
View(EV)
#' Contains auxiliary functions used in other scripts
if(!require(gridExtra)){
install.packages("gridExtra",dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(gridExtra)
packageVersion("gridExtra")
# [1] â2.2.1â
if(!require(grid)){
install.packages("grid",dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(grid)
packageVersion("grid")
# [1] â3.3.0â
if(!require(flextable)){
install.packages('flextable',dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(flextable)
packageVersion("flextable")
# [1] â0.4.4â
if(!require(officer)){
install.packages('officer',dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(officer)
packageVersion("officer")
# [1] â0.3.0â
if(!require(magrittr)){
install.packages('magrittr',dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(magrittr)
packageVersion("magrittr")
# [1] â1.5â
if(!require(data.table)){
install.packages('data.table',dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(data.table)
packageVersion("data.table")
# [1] â1.10.4â
if(!require(tidyverse)){
install.packages("tidyverse",dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(tidyverse)
packageVersion("tidyverse")
# [1] â1.2.1â
if(!require(corrplot)){
install.packages("corrplot",dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(corrplot)
packageVersion("corrplot")
# [1] â0.77â
library(stats)
ES <- read.csv2("data/ES.csv")
ES <- ES [, c(2:5)]
View(ES)
ES_cor <- cor(ES, use = "pairwise.complete.obs")
p1 <- corrplot(ES_cor, order ="AOE")
N1 <- ES_cor
write.csv(N1, file = "data2/N1.csv")
ES_cor <- cor(ES, use = "pairwise.complete.obs")
###### ECO Indicators Correlations ######
#Read Ecological indicators
ES <- read.csv2("data/ES.csv")
ES <- read.csv2("data/ES.csv")
ES <- read.csv2("data/ES.csv")
View(ES)
ES <- ES [, c(2:5)]
ES_cor <- cor(ES, use = "pairwise.complete.obs")
es<-as.numeric(ES)
es<-as.data.frame(ES)
View(es)
ES_cor <- cor(ES, use = "pairwise.complete.obs")
es<-as.numeric(as.data.frame(ES))
ES_cor <- cor(ES, use = "pairwise.complete.obs")
View(es)
SAC_indicators <- read.csv2("data/SAC indicators.csv")
SAC_indicators <- SAC_indicators [, c(3:14)]
SAC_indicators_cor <- cor(SAC_indicators, use = "pairwise.complete.obs")
p2 <- corrplot(SAC_indicators_cor, order ="AOE")
N2 <-SAC_indicators_cor
write.csv(N2,file = "data2/N2.csv")
View(SAC_indicators)
View(SAC_indicators_cor)
class(es)
###### ECO Indicators Correlations ######
#Read Ecological indicators
ES <- read.csv2("data/ES.csv")
ES <- ES [, c(2:5)]
#Read SAC indicators
SAC_indicators <- read.csv2("data/SAC indicators.csv")
SAC_indicators <- SAC_indicators [, c(3:14)]
View(SAC_indicators_cor)
class(SAC_indicators_cor)
class(SAC_indicators)
View(ES)
View(SAC_indicators_cor)
View(ES)
class(ES[,1])
View(ES)
ES_cor <- cor(as.numeric(ES), use = "pairwise.complete.obs")
ES <- read.csv2("data/ES.csv")
ES <- ES [, c(2:5)]
###### ECO Indicators Correlations ######
#Read Ecological indicators
ES <- read.csv2("data/ES.csv")
ES <- ES [, c(2:5)]
ES <- read.csv2("data/ES.csv")
ES <- ES [, c(2:5)]
View(ES)
ES <- ES [, c(2:5)]
SS <- read.csv2("data/SS.csv")
View(SS)
SS <-SS [, c(2:5)]
View(SS)
SS_cor <- cor(SS, use = "pairwise.complete.obs")
es <- read.table("ES.txt",sep="\t",h=T)
es <- read.table("dat/ES.txt",sep="\t",h=T)
es <- read.table("data/ES.txt",sep="\t",h=T)
View(es)
es <- es [, c(2:5)]
View(es)
ES_cor <- cor(es, use = "pairwise.complete.obs")
p1 <- corrplot(es_cor, order ="AOE")
N1 <- es_cor
es_cor <- cor(es, use = "pairwise.complete.obs")
p1 <- corrplot(es_cor, order ="AOE")
N1 <- es_cor
View(N1)
es <- read.table("data/ES.txt",sep="\t",h=T)
es <- es [, c(3:6)]
es_cor <- cor(es, use = "pairwise.complete.obs")
p1 <- corrplot(es_cor, order ="AOE")
N1 <- es_cor
View(N1)
View(es)
SS <- read.csv2("data/SS.csv")
SS <-SS [, c(2:5)]
View(SS)
View(SS)
rp <- read.table("data/rp.txt",sep="\t",h=T)
View(rp)
rp <- es [, c(2:4)]
View(rp)
rp_cor <- cor(rp, use = "pairwise.complete.obs")
p2 <- corrplot(rp_cor, order ="AOE")
N2 <-rp_cor
rp <- read.table("data/rp.txt",sep="\t",h=T)
rp <- es [, c(2:4)]
rp_cor <- cor(rp, use = "pairwise.complete.obs")
p2 <- corrplot(rp_cor, order ="AOE")
N2 <-rp_cor
write.csv(N2,file = "data2/N2.csv")
#Read SS indicators
ss <- read.table("data/ss.txt",sep="\t",h=T)
View(ss)
ss <-ss [, c(2:5)]
ss_cor <- cor(ss, use = "pairwise.complete.obs")
p2 <- corrplot(ss_cor, order ="AOE")
N3 <-ss_cor
write.csv(N3,file = "data2/N3.csv")
#Read SAC indicators
ac <- read.table("data/ac.txt",sep="\t",h=T)
View(ac)
ac <-ac [, c(2:13)]
View(ac)
ac <- read.table("data/ac.txt",sep="\t",h=T)
ac <-ac [, c(2:13)]
ac_cor <- cor(ac, use = "pairwise.complete.obs")
p4 <- corrplot(ac_cor, order ="AOE")
N4 <-ac_cor
write.csv(N3,file = "data2/N3.csv")
View(N1)
View(N2)
View(N3)
View(N4)
View(p1)
View(p2)
View(p4)
View(N1)
write.table(N1, file = "data2/N1.txt")
write.csv(es_cor, file = "data2/N1.csv")
write.csv(es_cor, file = "data2/N1.csv", sep="\t")
write.csv(es_cor, file = "data2/N1.csv", sep=" ")
p4 <- corrplot(ac_cor, order ="AOE")
N4 <-ac_cor
write.csv(N3,file = "data2/N4.csv")
p4 <- corrplot(ac_cor, order ="AOE")
N4 <-ac_cor
write.csv(N4,file = "data2/N4.csv")
#' Contains auxiliary functions used in other scripts
if(!require(gridExtra)){
install.packages("gridExtra",dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(gridExtra)
packageVersion("gridExtra")
# [1] â2.2.1â
if(!require(grid)){
install.packages("grid",dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(grid)
packageVersion("grid")
# [1] â3.3.0â
if(!require(flextable)){
install.packages('flextable',dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(flextable)
packageVersion("flextable")
# [1] â0.4.4â
if(!require(officer)){
install.packages('officer',dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(officer)
packageVersion("officer")
# [1] â0.3.0â
if(!require(magrittr)){
install.packages('magrittr',dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(magrittr)
packageVersion("magrittr")
# [1] â1.5â
if(!require(data.table)){
install.packages('data.table',dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(data.table)
packageVersion("data.table")
# [1] â1.10.4â
if(!require(tidyverse)){
install.packages("tidyverse",dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(tidyverse)
packageVersion("tidyverse")
# [1] â1.2.1â
if(!require(corrplot)){
install.packages("corrplot",dependencies = TRUE,repos='http://cran.us.r-project.org')
}
require(corrplot)
packageVersion("corrplot")
# [1] â0.77â
library(stats)
##libraries
library(tidyverse)
library(ggplot2)
library(ggrepel)
library(tidyr)
library(tibble)
library(scales)
library(dplyr)
##Join data on ecological vulnerability
data$guild <- as.character(data$guild)                                  #to convert column name "guild" into  a character
data_EV$guild <- as.character(data_EV$guild)                            #to convert column name "guild" into  a character
data_EV$guild[data_EV$guild == "Moana "] <-"Moaña"                      #to correct Moaña    to be common among data files
data$guild[data$guild == "Moana "] <-"Moaña"                            #to correct Moaña    to be common among data files
data <- left_join(data, data_EV, by="guild")                            #to combine data and data_EV by the joint column "guild"
##Join data on social sensitivity
#Load data, social sensitivity (SS) and social impact potential (SIP)
dataSS <- read.csv("data_vul/social sensitivity.csv", sep =";")
dataSIP <- read.csv("data_vul/social impact potential.csv", sep = ";")
dataSS <- dataSS[1:6,]
dataSS$guild <- as.character(dataSS$guild)                            #to convert column name "guild" into  a character
dataSS$guild[dataSS$guild == "Moana "] <-"Moaña"
data <- left_join(data, dataSS, by="guild")
dataSIP <- dataSIP[1:6,]
dataSIP$guild <- as.character(dataSIP$guild)
dataSIP$guild[dataSIP$guild == "Moana "] <-"Moaña"
data <- left_join(data, dataSIP, by="guild")
f1 <- ggplot(data, aes(EV,SAC, label = guild)) +                #ggplot for figure 1, using data
geom_jitter(alpha=0.8, aes(color=V),
position = position_jitter(width = .001), size=10)+
geom_text_repel(data=data, size=3.5,hjust=1.1)+
xlab("Ecological vulnerability")+
ylab("Social Adaptive Capacity")+
theme(legend.position="right")+
labs(colour = "Vulnerability score")+
scale_color_gradient(low = "skyblue2", high = "skyblue4")+
theme_minimal()+
ylim(0,1)+
xlim(-0.1,1.5)
f1
f1 <- ggplot(data, aes(EV,SAC, label = guild)) +                #ggplot for figure 1, using data
geom_jitter(alpha=0.8, aes(color=V),
position = position_jitter(width = .001), size=10)+
geom_text_repel(data=data, size=3.5,hjust=1.1)+
xlab("Ecological vulnerability")+
ylab("Social Adaptive Capacity")+
theme(legend.position="right")+
labs(colour = "Vulnerability score")+
scale_color_gradient(low = "skyblue2", high = "skyblue4")+
theme_minimal()+
ylim(0,1)+
xlim(-0.1,1.5)
f1
data$guild <- as.factor(data$guild)                              #convert guild in a factor so that I can label later
f1 <- ggplot(data, aes(EV,SAC, label = guild)) +                #ggplot for figure 1, using data
geom_jitter(alpha=0.8, aes(color=V),
position = position_jitter(width = .001), size=10)+
geom_text_repel(data=data, size=3.5,hjust=1.1)+
xlab("Ecological vulnerability")+
ylab("Social Adaptive Capacity")+
theme(legend.position="right")+
labs(colour = "Vulnerability score")+
scale_color_gradient(low = "skyblue2", high = "skyblue4")+
theme_minimal()+
ylim(0,1)+
xlim(-0.1,1.5)
f1
View(f1)
data <- read.csv("data_vul/Vulnerability.csv", sep=";")                 #open .csv vul index
data <- data[1:6,]                                                      #delete last three rows
data_EV <- read.csv("data_vul/Ecological vulnerability.csv", sep=";")   #open .csv ecological vulnerability
data_EV <- data_EV[1:6,]                                                #delete last three rows
data$guild <- as.character(data$guild)                                  #to convert column name "guild" into  a character
data_EV$guild <- as.character(data_EV$guild)                            #to convert column name "guild" into  a character
data_EV$guild[data_EV$guild == "Moana "] <-"Moaña"                      #to correct Moaña    to be common among data files
data$guild[data$guild == "Moana "] <-"Moaña"                            #to correct Moaña    to be common among data files
data <- left_join(data, data_EV, by="guild")
dataSS <- read.csv("data_vul/social sensitivity.csv", sep =";")
dataSIP <- read.csv("data_vul/social impact potential.csv", sep = ";")
dataSS <- dataSS[1:6,]
dataSS$guild <- as.character(dataSS$guild)                            #to convert column name "guild" into  a character
dataSS$guild[dataSS$guild == "Moana "] <-"Moaña"
data <- left_join(data, dataSS, by="guild")
dataSIP <- dataSIP[1:6,]
dataSIP$guild <- as.character(dataSIP$guild)
dataSIP$guild[dataSIP$guild == "Moana "] <-"Moaña"
data <- left_join(data, dataSIP, by="guild")
data$guild <- as.factor(data$guild)                              #convert guild in a factor so that I can label later
f1 <- ggplot(data, aes(EV,SAC, label = guild)) +                #ggplot for figure 1, using data
geom_jitter(alpha=0.8, aes(color=V),
position = position_jitter(width = .001), size=10)+
geom_text_repel(data=data, size=3.5,hjust=1.1)+
xlab("Ecological vulnerability")+
ylab("Social Adaptive Capacity")+
theme(legend.position="right")+
labs(colour = "Vulnerability score")+
scale_color_gradient(low = "skyblue2", high = "skyblue4")+
theme_minimal()+
ylim(0,1)+
xlim(-0.1,1.5)
f1
f2 <- ggplot(data, aes(SAC,SS, label = guild)) +                #ggplot for figure 1, using data
geom_jitter(alpha=0.8, aes(color=V),
position = position_jitter(width = .001), size=10)+
geom_text_repel(data=data, size=3.5,hjust=1.1)+
xlab("Social Adaptive Capacity")+
ylab("Social Sensitivity")+
theme(legend.position="right")+
labs(colour = "Vulnerability score")+
scale_color_gradient(low = "yellow", high = "red")+
theme_minimal()+
ylim(-0.1,1.5)+
xlim(0,1)
f2
##libraries
library(tidyverse)
library(ggplot2)
library(ggrepel)
library(tidyr)
library(tibble)
library(scales)
library(dplyr)
##########################################################################################
## A: Vulnerativuty index plotting
##Read final Vulnerability index and ecological vulnerability
data <- read.csv("data_vul/Vulnerability.csv", sep=";")                 #open .csv vul index
data <- data[1:6,]                                                      #delete last three rows
data_EV <- read.csv("data_vul/Ecological vulnerability.csv", sep=";")   #open .csv ecological vulnerability
data_EV <- data_EV[1:6,]                                                #delete last three rows
##Join data on ecological vulnerability
data$guild <- as.character(data$guild)                                  #to convert column name "guild" into  a character
data_EV$guild <- as.character(data_EV$guild)                            #to convert column name "guild" into  a character
data_EV$guild[data_EV$guild == "Moana "] <-"Moaña"                      #to correct Moaña    to be common among data files
data$guild[data$guild == "Moana "] <-"Moaña"                            #to correct Moaña    to be common among data files
data <- left_join(data, data_EV, by="guild")                            #to combine data and data_EV by the joint column "guild"
##Join data on social sensitivity
#Load data, social sensitivity (SS) and social impact potential (SIP)
dataSS <- read.csv("data_vul/social sensitivity.csv", sep =";")
dataSIP <- read.csv("data_vul/social impact potential.csv", sep = ";")
dataSS <- dataSS[1:6,]
dataSS$guild <- as.character(dataSS$guild)                            #to convert column name "guild" into  a character
dataSS$guild[dataSS$guild == "Moana "] <-"Moaña"
data <- left_join(data, dataSS, by="guild")
dataSIP <- dataSIP[1:6,]
dataSIP$guild <- as.character(dataSIP$guild)
dataSIP$guild[dataSIP$guild == "Moana "] <-"Moaña"
data <- left_join(data, dataSIP, by="guild")
##Figure 1:  SAC - EV - V
data$guild <- as.factor(data$guild)                              #convert guild in a factor so that I can label later
f1 <- ggplot(data, aes(EV,SAC, label = guild)) +                #ggplot for figure 1, using data
geom_jitter(alpha=0.8, aes(color=V),
position = position_jitter(width = .001), size=10)+
geom_text_repel(data=data, size=3.5,hjust=1.1)+
xlab("Ecological vulnerability")+
ylab("Social Adaptive Capacity")+
theme(legend.position="right")+
labs(colour = "Vulnerability score")+
scale_color_gradient(low = "skyblue2", high = "skyblue4")+
theme_minimal()+
ylim(0,1)+
xlim(-0.1,1.5)
f1
##libraries
library(tidyverse)
library(ggplot2)
library(ggrepel)
library(tidyr)
library(tibble)
library(scales)
library(dplyr)
##########################################################################################
## A: Vulnerativuty index plotting
##Read final Vulnerability index and ecological vulnerability
data <- read.csv("data_vul/Vulnerability.csv", sep=";")                 #open .csv vul index
data <- data[1:6,]                                                      #delete last three rows
data_ES <- read.csv("data_vul/ES.csv", sep=";")   #open .csv ecological vulnerability
data_ES <- data_ES[1:6,]                                                #delete last three rows
##Join data on ecological vulnerability
data$guild <- as.character(data$guild)                                  #to convert column name "guild" into  a character
data_ES$guild <- as.character(data_ES$guild)                            #to convert column name "guild" into  a character
data_ES$guild[data_ES$guild == "Moana "] <-"Moaña"                      #to correct Moaña    to be common among data files
data$guild[data$guild == "Moana "] <-"Moaña"                            #to correct Moaña    to be common among data files
data <- left_join(data, data_EV, by="guild")                            #to combine data and data_EV by the joint column "guild"
##Join data on social sensitivity
#Load data, social sensitivity (SS) and social impact potential (SIP)
dataSS <- read.csv("data_vul/social sensitivity.csv", sep =";")
dataSIP <- read.csv("data_vul/social impact potential.csv", sep = ";")
dataSS <- dataSS[1:6,]
dataSS$guild <- as.character(dataSS$guild)                            #to convert column name "guild" into  a character
dataSS$guild[dataSS$guild == "Moana "] <-"Moaña"
data <- left_join(data, dataSS, by="guild")
dataSIP <- dataSIP[1:6,]
dataSIP$guild <- as.character(dataSIP$guild)
dataSIP$guild[dataSIP$guild == "Moana "] <-"Moaña"
data <- left_join(data, dataSIP, by="guild")
##Figure 1:  SAC - EV - V
data$guild <- as.factor(data$guild)                              #convert guild in a factor so that I can label later
f1 <- ggplot(data, aes(ES,SAC, label = guild)) +                #ggplot for figure 1, using data
geom_jitter(alpha=0.8, aes(color=V),
position = position_jitter(width = .001), size=10)+
geom_text_repel(data=data, size=3.5,hjust=1.1)+
xlab("Ecological vulnerability")+
ylab("Social Adaptive Capacity")+
theme(legend.position="right")+
labs(colour = "Vulnerability score")+
scale_color_gradient(low = "skyblue2", high = "skyblue4")+
theme_minimal()+
ylim(0,1)+
xlim(-0.1,1.5)
f1
##libraries
library(tidyverse)
library(ggplot2)
library(ggrepel)
library(tidyr)
library(tibble)
library(scales)
library(dplyr)
##Read final Vulnerability index and ecological vulnerability
data <- read.csv("data_vul/Vulnerability.csv", sep=";")                 #open .csv vul index
data <- data[1:6,]                                                      #delete last three rows
data_ES <- read.csv("data_vul/ES.csv", sep=";")   #open .csv ecological vulnerability
data_ES <- data_ES[1:6,]
data <- read.csv("data/Vulnerability.csv", sep=";")                 #open .csv vul index
data <- data[1:6,]                                                      #delete last three rows
data_ES <- read.csv("data/ES.csv", sep=";")   #open .csv ecological vulnerability
data_ES <- data_ES[1:6,]                                                #delete last three rows
#Join data on ecological vulnerability
data$guild <- as.character(data$guild)                                  #to convert column name "guild" into  a character
data_ES$guild <- as.character(data_ES$guild)                            #to convert column name "guild" into  a character
data_ES$guild[data_ES$guild == "Moana "] <-"Moaña"                      #to correct Moaña    to be common among data files
data$guild[data$guild == "Moana "] <-"Moaña"                            #to correct Moaña    to be common among data files
data <- left_join(data, data_ES, by="guild")                            #to combine data and data_EV by the joint column "guild"
##Join data on social sensitivity
#Load data, social sensitivity (SS) and social impact potential (SIP)
dataSS <- read.csv("data_vul/social sensitivity.csv", sep =";")
dataSIP <- read.csv("data_vul/social impact potential.csv", sep = ";")
dataSS <- dataSS[1:6,]
dataSS$guild <- as.character(dataSS$guild)                            #to convert column name "guild" into  a character
dataSS$guild[dataSS$guild == "Moana "] <-"Moaña"
data <- left_join(data, dataSS, by="guild")
dataSIP <- dataSIP[1:6,]
dataSIP$guild <- as.character(dataSIP$guild)
dataSIP$guild[dataSIP$guild == "Moana "] <-"Moaña"
data <- left_join(data, dataSIP, by="guild")
##Figure 1:  SAC - ES - V
data$guild <- as.factor(data$guild)                              #convert guild in a factor so that I can label later
f1 <- ggplot(data, aes(ES,SAC, label = guild)) +                #ggplot for figure 1, using data
geom_jitter(alpha=0.8, aes(color=V),
position = position_jitter(width = .001), size=10)+
geom_text_repel(data=data, size=3.5,hjust=1.1)+
xlab("Ecological vulnerability")+
ylab("Social Adaptive Capacity")+
theme(legend.position="right")+
labs(colour = "Vulnerability score")+
scale_color_gradient(low = "skyblue2", high = "skyblue4")+
theme_minimal()+
ylim(0,1)+
xlim(-0.1,1.5)
f1
